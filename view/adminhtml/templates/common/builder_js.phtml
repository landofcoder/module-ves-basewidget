if(void 0===Ves_Builder){var Ves_Builder=function(){this.builder=null,this.callback={},this.currentCol=null,this.currentWidget=null,this.currentShortcode=""},turnoffTinyMCEs=[],getContentTinyMCEs=[],getTinyMCEFields=[],VesBuilder=null,VesCallBack={},VesCurrentCol=null,VesCurrentWidget=null,VesCurrentShortcode="";if("function"!=typeof getWidgetTypeByShortcode)function getWidgetTypeByShortcode(t){var e="";return-1!=t.indexOf("{{widget")&&t.gsub(/([a-z0-9\_]+)\s*\=\s*[\"]{1}([^\"]+)[\"]{1}/i,function(t){"type"==t[1]&&(e=t[2])}),e}}if(void 0===triggerSaveForm){var WPO_DataRow=function(){this.index=0,this.wcls="",this.wclid="",this.cls="",this.incls="",this.css="",this.bgcolor="",this.bgimage="",this.bgrepeat="",this.bgposition="",this.bgattachment="",this.padding="",this.margin="",this.nogutters=0,this.fullwidth=0,this.parallax=0,this.iscontainer=0,this.p_percent="50%",this.p_scroll="0.4",this.inbgcolor="",this.inbgimage="",this.inbgrepeat="",this.inbgposition="",this.inbgattachment="",this.inparallax=0,this.inp_percent="50%",this.inp_scroll="0.4",this.sfxcls="",this.offcanvas=""},WPO_DataCol=function(){this.index=0,this.cols="",this.wcls="",this.cls="",this.incls="",this.css="",this.sfxcls="",this.bgcolor="",this.bgimage="",this.bgrepeat="",this.bgposition="",this.bgattachment="",this.padding="",this.margin="",this.inrow=0,this.lgcol=4,this.mdcol=4,this.smcol=6,this.xscol=12,this.offcol=""},WPO_DataWidget=function(){this.cls="",this.incls="",this.css="",this.bgcolor="",this.bgimage="",this.bgrepeat="",this.bgposition="",this.bgattachment="",this.padding="",this.margin="",this.sfxcls="",this.sfxa="",this.sfxaduration="",this.sfxadelay="",this.sfxaoffset="",this.sfxaiteration="",this.wtype="",this.wkey="",this.shortcode="",this.settings="",this.widget="",this.isajax=0,this.desktop=1,this.tablet=1,this.mobile=1,this.name=""},current_id_tab=1;if("function"!=typeof getWidgetTypeByShortcode)function getWidgetTypeByShortcode(t){var e="";return-1!=t.indexOf("{{widget")&&t.gsub(/([a-z0-9\_]+)\s*\=\s*[\"]{1}([^\"]+)[\"]{1}/i,function(t){"type"==t[1]&&(e=t[2])}),e}function initClipboard(t,e,i){var n=document.queryCommandSupported("copy");console.log("Copy command supported: "+n),jQuery(t,i).length>0&&jQuery(t,i).click(function(t){if(e||(e="#shortcode_content"),"#shortcode_content"==e){var n=getRowShortCode(i);jQuery("[name=shortcode]","#row_editshortcode").length>0&&(jQuery(e).html(n),initJSONEditor(jQuery(e),"#row_editshortcode"))}var o=jQuery(e)[0];copyToClipboard(o,showSuccessMsg,"")})}var getCacheStorage=function(t){if(!t)return!1;if(!0===t)return window.localStorage;if("object"==typeof t&&"getItem"in t&&"removeItem"in t&&"setItem"in t)return t;throw new TypeError("localCache must either be a boolean value, or an object which implements the Storage interface.")},removeCacheFromStorage=function(t){var e=getCacheStorage(!0);e&&(e.removeItem(t),e.removeItem(t+"cachettl"),e.removeItem(t+"dataType"))};function wysiwygExists(){return"undefined"!=typeof tinyMCE}function getLayoutData(t){var e=arguments[1]||1,i=new Array;return jQuery(t).children(".inner ").children(".wpo-row").each(function(){var t=jQuery(this),n=t.data("rowcfg"),o=new WPO_DataRow;for(var r in o)"cols"!=r&&void 0!==n[r]&&""==n[r]&&delete n[r];n.cols=new Array,jQuery(t).children(".inner").children(".wpo-col").each(function(){var t=jQuery(this).data("colcfg"),i=new WPO_DataCol;for(var o in i)"widgets"==o&&"rows"==o||void 0===t[o]||""!=t[o]||delete t[o];t.widgets=new Array,jQuery(this).children(".inner").children(".wpo-content ").children(".wpo-ijwidget").each(function(){if(wd=jQuery(this).data("wgcfg"),"undefined"!=typeof wd&&wd){var i=new WPO_DataWidget;for(var n in i)void 0!==wd[n]&&""==wd[n]&&delete wd[n];1==e&&jQuery("#wpowidget"+wd.wkey).length>0&&""!=jQuery("#wpowidget"+wd.wkey).val()&&(wd.shortcode=""),t.widgets.push(wd)}}),t.rows=new Array,jQuery(this).children(".inner").children(".wpo-row").length>0&&(t.rows=getLayoutData(this,e)),n.cols.push(t)}),i.push(n)}),i}function getRowShortCode(t){var e=new Array,i=(t=jQuery(t)).data("rowcfg");return i.cols=new Array,jQuery(t).children(".inner").children(".wpo-col").each(function(){var t=jQuery(this).data("colcfg");t.widgets=new Array,jQuery(this).children(".inner").children(".wpo-content ").children(".wpo-ijwidget").each(function(){wd=jQuery(this).data("wgcfg"),t.widgets.push(wd)}),t.rows=new Array,jQuery(this).children(".inner").children(".wpo-row").length>0&&(t.rows=getLayoutData(this)),i.cols.push(t)}),e.push(i),JSON.stringify(e)}function triggerSaveForm(){var t=arguments[0]||1;jQuery(".layout-builder-wrapper").each(function(){var e=getLayoutData(jQuery(this).find(".layout-builder"),t),i=JSON.stringify(e);jQuery(".hidden-content-layout",this).html(i)})}function afterCreateWidget(t,e){var i=getWidgetTypeByShortcode(t).replace(/\\/g,"/");0<=["Magento/Cms/Block/Widget/Block","Ves/PageBuilder/Block/Widget/Builder","Ves/BaseWidget/Block/Widget/Image","Ves/BaseWidget/Block/Widget/Html","Ves/BaseWidget/Block/Widget/Ourservice","Ves/BaseWidget/Block/Widget/ContentHtml","Ves/BaseWidget/Block/Widget/Heading"].indexOf(i)&&ajaxUpdateWidgetInfo(i,t,e)}function buildWidgetHtml(t){var e=getWidgetTypeByShortcode(t),i="",n=null;if(""!=e){n=getWidgetsInfo(e,t);var o="other",r=e.replace("/","_"),s="other",d="",a=e.replace("/"," - "),c="";null!=n&&""!=n&&(o=n.group,r=n.code,s=n.icon,d=n.font_icon,a=n.title,c=n.description),i='<div class="wpo-wg-button" data-group="'+o+'">',i+='<div data-widget="'+r+'" id="wpo_'+r+'">',i+='<div class="wpo-wicon wpo-icon-'+s+'">',d&&(i+='<i class="'+d+'" aria-hidden="true"/>'),i+="</div>",i+='<div class="widget-title"><div class="widget-title-content">'+a+"</div></div>",i+='<div class="widget-desc-wrap"><i class="widget-desc">'+c+"</i></div>",i+="</div>",i+="</div>"}return""!=i?i:t}function updateWidgetShortcodeInfo(t,e){if(!($(e).length<=0)){$(e).find(".widget-icon-img").length>0&&$(e).find(".widget-icon-img").remove();var i=getWidgetTypeByShortcode(t),n=null;if(""!=i){n=getWidgetsInfo(i,t);var o="other",r=(i.replace("/","_"),"other"),s="",d=i.replace("/"," - "),a="";if(null!=n&&""!=n&&(o=n.group,n.code,r=n.icon,s=n.font_icon,d=n.title,a=n.description),o&&$(e).find(".wpo-wg-button").length>0&&$(e).find(".wpo-wg-button").data("group",o),r&&$(e).find(".wpo-wicon").length>0){var c=$(e).find(".wpo-wicon").first();$(c).removeAttr("class"),$(c).attr("class",""),$(c)[0].className="",$(c).addClass("wpo-wicon"),$(c).addClass("wpo-icon-"+r),s&&($html_icon='<i class="'+s+'" aria-hidden="true"/>',$(c).html($html_icon))}d&&$(e).find(".widget-title-content").length>0?$(e).find(".widget-title-content").first().html(d):d&&$(e).find(".widget-title").length>0&&$(e).find(".widget-title").first().html(d),a&&$(e).find(".widget-desc").length>0&&$(e).find(".widget-desc").first().html(a)}}}function testAnim(t){jQuery("#demo-effect-block").removeClass().addClass(t+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass()})}function animateDemoPreview(t,e,i){var n=jQuery("#effect-preview-block");return i&&n.length?(n.remove(),!1):(n=jQuery('<div id="effect-preview-block" style="display: none;"><div class="demo-block"><div id="demo-effect-block">Demo effect</div></div></div>').appendTo(document.body),e&&n.css(e),n.show(),testAnim(t),!0)}function initJSONEditor(t,e){return!0}require(["jquery"],function(t){jQuery(document).ready(function(t){t(document).on("mouseenter",".effect-list > option",function(e){e.preventDefault();var i=t(this),n=i.parent().offset();n.left-=330,animateDemoPreview(i.val(),n)}).on("mouseleave",".effect-list > option",function(){animateDemoPreview("","",!0)})})})}var admin_page_builder=!0;